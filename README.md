# ASP_AgentBot - ربات تلگرام با هوش مصنوعی Gemini

این پروژه یک ربات تلگرامی قدرتمند است که با استفاده از مدل‌های هوش مصنوعی **Google Gemini** ساخته شده است. این ربات قادر به پاسخگویی به سوالات، تولید و ویرایش تصویر، جستجو در وب و حفظ تاریخچه مکالمات برای هر کاربر است.

## ✨ ویژگی‌ها

*   **ارتباط با مدل‌های مختلف Gemini**: به راحتی بین مدل‌های مختلف Gemini (مانند `gemini-2.5-flash` و `gemini-pro`) جابجا شوید.
*   **پشتیبانی از جستجوی وب**: ربات می‌تواند برای پاسخ به سوالات، اطلاعات به‌روز را از وب جستجو کند.
*   **تولید تصویر**: با استفاده از دستور `/img`، تصاویر خلاقانه بر اساس متن شما تولید می‌کند.
*   **پردازش و ویرایش تصویر**: با ریپلای روی یک عکس و ارسال دستور، می‌توانید آن را ویرایش یا تحلیل کنید.
*   **حافظه و تاریخچه گفتگو**: ربات تاریخچه مکالمات شما را به خاطر می‌سپارد تا تجربه‌ای روان و ادامه‌دار داشته باشید.
*   **پرامپت سیستمی قابل تنظیم**: می‌توانید شخصیت و دستورالعمل‌های اولیه ربات را از طریق فایل `default_prompt.txt` شخصی‌سازی کنید.
*   **پیکربندی آسان**: تمام تنظیمات اصلی، کلیدهای API و پیام‌های ربات در فایل‌های `config.py` و `.env` متمرکز شده‌اند.
*   **قابلیت اجبار عضویت در کانال**: می‌توانید کاربران را ملزم به عضویت در کانال تلگرامی خود کنید تا بتوانند از ربات استفاده کنند.

## 🛠️ تکنولوژی‌های استفاده شده

*   **Python 3.x**
*   **Google Gemini API** (از طریق کتابخانه `google-generativeai`)
*   **pyTelegramBotAPI** برای ارتباط با API تلگرام
*   **Pillow** برای پردازش تصویر

## ⚙️ راه‌اندازی و نصب

برای اجرای این ربات روی سرور خود، مراحل زیر را دنبال کنید:

**۱. کلون کردن پروژه:**

```bash
git clone https://github.com/AmirStPlays/ASP_AgentBot.git
cd ASP_AgentBot
```

**۲. نصب پیش‌نیازها:**

توصیه می‌شود یک محیط مجازی (virtual environment) بسازید:

```bash
python -m venv venv
source venv/bin/activate  # در ویندوز: venv\Scripts\activate
```

سپس کتابخانه‌های مورد نیاز را نصب کنید:

```bash
pip install -r requirements.txt
```

**۳. پیکربندی:**

یک فایل به نام `.env` در ریشه پروژه بسازید. می‌توانید فایل `.env.example` را کپی و تغییر نام دهید.

```env
# توکن ربات تلگرام که از BotFather دریافت می‌کنید
BOT_TOKEN="YOUR_TELEGRAM_BOT_TOKEN"

# کلید(های) API جمینای که از Google AI Studio می‌گیرید
# می‌توانید چند کلید را با کاما (,) از هم جدا کنید تا ربات به صورت تصادفی از آن‌ها استفاده کند
gemini_api_keys="YOUR_GEMINI_API_KEY_1,YOUR_GEMINI_API_KEY_2"
```

سپس فایل `config.py` را برای تنظیمات بیشتر ویرایش کنید:

*   **`CHANNEL_USERNAME`**: اگر می‌خواهید عضویت در کانال اجباری باشد، نام کاربری کانال خود را اینجا وارد کنید (مثلا: `@YourChannel`).

همچنین می‌توانید متن فایل‌های `default_prompt.txt` و `default_image_processing_prompt.txt` را برای شخصی‌سازی رفتار ربات تغییر دهید.

**۴. اجرای ربات:**

پس از انجام تمام مراحل بالا، ربات را با دستور زیر اجرا کنید:

```bash
python main.py
```

## 📝 نحوه استفاده (دستورات ربات)

*   `/start` یا `/help`: نمایش پیام خوش‌آمدگویی و راهنما.
*   `/new`: پاک کردن تاریخچه مکالمه فعلی شما و شروع یک گفتگوی جدید.
*   `/gemini <متن سوال>`: ارسال درخواست به مدل اصلی جمینای.
*   `/gemini_pro <متن سوال>`: ارسال درخواست به مدل دوم جمینای.
*   `/img <متن توصیف تصویر>`: درخواست تولید یک تصویر از مدل هوش مصنوعی.
*   `/edit <متن دستور>` (با ریپلای روی یک عکس): درخواست ویرایش یا تحلیل عکس مورد نظر.
*   **مکالمه عادی**: به سادگی پیام خود را ارسال کنید تا ربات پاسخ دهد.
*   **در گروه‌ها**: ربات به پیام‌هایی که با نقطه (`.`) شروع می‌شوند پاسخ می‌دهد (مثال: `.سلام، خوبی؟`).

## 🤝 مشارکت

از هرگونه مشارکت در این پروژه استقبال می‌شود. اگر ایده‌ای برای بهبود دارید یا با مشکلی مواجه شدید، لطفاً یک **Issue** جدید باز کنید یا یک **Pull Request** ارسال کنید.
